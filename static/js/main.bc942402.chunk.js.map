{"version":3,"sources":["types.ts","store/theme/index.ts","store/app/index.ts","store/theme/init.ts","store/dictionary/index.ts","store/dictionary/init.ts","components/TopMenu.tsx","components/Inputs.tsx","components/App.tsx","reportWebVitals.ts","index.tsx","components/App.module.css"],"names":["DictionaryWordPosition","Theme","THEME_STORAGE_KEY","$theme","createStore","light","$isDark","map","theme","dark","toggleTheme","createEvent","saveThemeFx","createEffect","loadThemeFx","AppGate","createGate","on","sample","clock","updates","source","target","use","ls","forward","from","open","to","doneData","_","DICTIONARY_STORAGE_KEY","$dictionary","handleChangeWord","handleAddNewRow","handleRemoveRow","handleResetDictionary","addNewRowFx","removeRowFx","saveDictionaryFx","loadDictionaryFx","$isResetConfirmationOpen","openResetConfirmation","closeResetConfirmation","fn","dictionary","id","nanoid","pair","filter","row","position","value","right","Error","reset","TopMenu","isDark","useStore","isResetConfirmationOpen","Group","align","Alignment","LEFT","Heading","RIGHT","className","icon","intent","Intent","DANGER","onClick","clsx","Classes","DARK","cancelButtonText","confirmButtonText","isOpen","onCancel","onConfirm","canEscapeKeyCancel","Inputs","useHotkeys","combo","label","global","preventDefault","onKeyDown","handleKeyDown","handleKeyUp","fill","large","onChange","e","left","outlined","onKeyUp","text","small","App","useGate","styles","root","container","menu","inputs","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.bc942402.chunk.js","sourcesContent":["// dictionary\nexport enum DictionaryWordPosition {\n  left = 0,\n  right = 1\n}\nexport type DictionaryPair = [string, string];\nexport type DictionaryRow = { id: string; pair: DictionaryPair };\n\n// theme\nexport enum Theme {\n  dark = \"dark\",\n  light = \"light\",\n}\n","import { createEffect, createEvent, createStore } from 'effector';\nimport React from 'react';\nimport { Theme } from '../../types';\n\nexport const THEME_STORAGE_KEY = 'theme';\n\nexport const $theme = createStore<Theme>(Theme.light);\nexport const $isDark = $theme.map(theme => theme === Theme.dark);\n\nexport const toggleTheme = createEvent<React.SyntheticEvent>();\n\nexport const saveThemeFx = createEffect<Theme, void>();\nexport const loadThemeFx = createEffect<void, Theme>();","import { createGate } from \"effector-react\";\n\nexport const AppGate = createGate();","import { sample, forward } from \"effector\";\nimport * as ls from \"local-storage\";\nimport { $theme, loadThemeFx, saveThemeFx, THEME_STORAGE_KEY, toggleTheme } from \".\";\nimport { Theme } from \"../../types\";\nimport { AppGate } from \"../app\";\n\n$theme.on(toggleTheme, theme => theme === Theme.dark ? Theme.light : Theme.dark);\n\nsample({\n  clock: $theme.updates,\n  source: $theme,\n  target: saveThemeFx\n});\n\nsaveThemeFx.use((theme) => {\n  ls.set<Theme>(THEME_STORAGE_KEY, theme);\n});\n\nforward({\n  from: AppGate.open,\n  to: loadThemeFx\n})\n\nloadThemeFx.use(() => {\n  const theme = ls.get<Theme>(THEME_STORAGE_KEY);\n\n  return theme;\n});\n\n$theme.on(loadThemeFx.doneData, (_, theme) => theme);","import { createEffect, createEvent, createStore } from \"effector\";\nimport * as React from \"react\";\nimport { DictionaryRow, DictionaryWordPosition } from \"../../types\";\n\nexport const DICTIONARY_STORAGE_KEY = \"dictionary\";\n\nexport const $dictionary = createStore<DictionaryRow[]>([]);\n\nexport const handleChangeWord = createEvent<{\n  id: DictionaryRow[\"id\"];\n  position: DictionaryWordPosition;\n  value: string;\n}>();\n\nexport const handleAddNewRow = createEvent<React.SyntheticEvent | void>();\nexport const handleRemoveRow = createEvent<DictionaryRow[\"id\"]>();\nexport const handleResetDictionary = createEvent<React.SyntheticEvent | void>();\n\nexport const addNewRowFx = createEffect<\n  { dictionary: DictionaryRow[] },\n  DictionaryRow[]\n>();\nexport const removeRowFx = createEffect<\n  { dictionary: DictionaryRow[]; id: DictionaryRow[\"id\"] },\n  DictionaryRow[]\n>();\n\nexport const saveDictionaryFx = createEffect<DictionaryRow[], void>();\nexport const loadDictionaryFx = createEffect<void, DictionaryRow[]>();\n\nexport const $isResetConfirmationOpen = createStore<boolean>(false);\nexport const openResetConfirmation = createEvent<React.SyntheticEvent | void>();\nexport const closeResetConfirmation = createEvent<React.SyntheticEvent | void>();\n","import { forward, sample } from \"effector\";\nimport { nanoid } from \"nanoid\";\nimport * as ls from \"local-storage\";\nimport {\n  $dictionary,\n  $isResetConfirmationOpen,\n  addNewRowFx,\n  closeResetConfirmation,\n  DICTIONARY_STORAGE_KEY,\n  handleAddNewRow,\n  handleChangeWord,\n  handleRemoveRow,\n  handleResetDictionary,\n  loadDictionaryFx,\n  openResetConfirmation,\n  removeRowFx,\n  saveDictionaryFx,\n} from \".\";\nimport {\n  DictionaryPair,\n  DictionaryRow,\n  DictionaryWordPosition,\n} from \"../../types\";\nimport { AppGate } from \"../app\";\n\nsample({\n  clock: handleAddNewRow,\n  source: $dictionary,\n  fn: (dictionary) => ({ dictionary }),\n  target: addNewRowFx,\n});\n\naddNewRowFx.use(({ dictionary }) => {\n  const id = nanoid();\n  return [...dictionary, { id, pair: [\"\", \"\"] }];\n});\n\n$dictionary.on(addNewRowFx.doneData, (_, dictionary) => dictionary);\n\nsample({\n  clock: handleRemoveRow,\n  source: $dictionary,\n  fn: (dictionary, id) => ({ dictionary, id }),\n  target: removeRowFx,\n});\n\nremoveRowFx.use(({ dictionary, id }) => {\n  return dictionary.filter((row) => row.id !== id);\n});\n\n$dictionary.on(removeRowFx.doneData, (_, dictionary) => dictionary);\n\n$dictionary.on(handleChangeWord, (dictionary, { id, position, value }) => {\n  const newDictionary: DictionaryRow[] = dictionary.map((row) => {\n    if (row.id !== id) return row;\n\n    const pair: DictionaryPair =\n      position === DictionaryWordPosition.right\n        ? [row.pair[0], value]\n        : [value, row.pair[1]];\n\n    return { id: row.id, pair };\n  });\n\n  return newDictionary;\n});\n\nforward({\n  from: AppGate.open,\n  to: loadDictionaryFx,\n});\n\nloadDictionaryFx.use(() => {\n  const dictionary = ls.get<DictionaryRow[]>(DICTIONARY_STORAGE_KEY);\n\n  if (!dictionary) throw new Error(\"Cannot load dictionary\");\n  return dictionary;\n});\n\n$dictionary.on(loadDictionaryFx.doneData, (_, dictionary) => dictionary);\n\nsample({\n  clock: $dictionary.updates,\n  source: $dictionary,\n  target: saveDictionaryFx,\n});\n\nsaveDictionaryFx.use((dictionary) => {\n  ls.set<DictionaryRow[]>(DICTIONARY_STORAGE_KEY, dictionary);\n});\n\n$isResetConfirmationOpen\n  .on(openResetConfirmation, () => true)\n  .reset(closeResetConfirmation);\n\n$dictionary.reset(handleResetDictionary);\n","import * as React from \"react\";\nimport { Navbar, Button, Alignment, Intent, Alert, Classes } from \"@blueprintjs/core\";\nimport { useStore } from \"effector-react\";\nimport { $isDark, toggleTheme } from \"../store/theme\";\nimport {\n  $isResetConfirmationOpen,\n  closeResetConfirmation,\n  handleResetDictionary,\n  openResetConfirmation,\n} from \"../store/dictionary\";\nimport clsx from \"clsx\";\n\nexport const TopMenu: React.FC = () => {\n  const isDark = useStore($isDark);\n  const isResetConfirmationOpen = useStore($isResetConfirmationOpen);\n\n  return (\n    <>\n      <Navbar>\n        <Navbar.Group align={Alignment.LEFT}>\n          <Navbar.Heading>Stasi learns Deutsch</Navbar.Heading>\n        </Navbar.Group>\n\n        <Navbar.Group align={Alignment.RIGHT}>\n          <Button\n            className=\"bp3-minimal\"\n            icon=\"trash\"\n            intent={Intent.DANGER}\n            onClick={openResetConfirmation}\n          />\n          <Button\n            className=\"bp3-minimal\"\n            icon={isDark ? \"lightbulb\" : \"moon\"}\n            onClick={toggleTheme}\n          />\n        </Navbar.Group>\n      </Navbar>\n\n      <Alert\n        className={clsx(isDark && Classes.DARK)}\n        cancelButtonText=\"Cancel\"\n        confirmButtonText=\"Delete\"\n        icon=\"trash\"\n        intent={Intent.DANGER}\n        isOpen={isResetConfirmationOpen}\n        onCancel={closeResetConfirmation}\n        onConfirm={() => {\n          handleResetDictionary();\n          closeResetConfirmation();\n        }}\n        canEscapeKeyCancel\n      >\n        <p>\n          Nastya, are you sure you want to delete <b>everything</b>? You will\n          not be able to restore the dictionary later\n        </p>\n      </Alert>\n    </>\n  );\n};\n","import * as React from \"react\";\nimport {\n  FormGroup,\n  ControlGroup,\n  InputGroup,\n  Button,\n  Intent,\n  useHotkeys,\n} from \"@blueprintjs/core\";\nimport { useStore } from \"effector-react\";\nimport {\n  $dictionary,\n  handleAddNewRow,\n  handleChangeWord,\n  handleRemoveRow,\n} from \"../store/dictionary\";\nimport { DictionaryWordPosition } from \"../types\";\n\nexport const Inputs: React.FC = () => {\n  const dictionary = useStore($dictionary);\n  const { handleKeyDown, handleKeyUp } = useHotkeys([\n    {\n      combo: \"cmd+a\",\n      label: \"Add new row\",\n      global: true,\n      preventDefault: true,\n      onKeyDown: () => handleAddNewRow(),\n    },\n  ]);\n\n  return (\n    <>\n      {dictionary.map((row) => (\n        <FormGroup key={row.id}>\n          <ControlGroup fill>\n            <InputGroup\n              large\n              value={row.pair[0]}\n              onChange={(e) =>\n                handleChangeWord({\n                  id: row.id,\n                  value: e.target.value,\n                  position: DictionaryWordPosition.left,\n                })\n              }\n            />\n            <InputGroup\n              large\n              value={row.pair[1]}\n              onChange={(e) =>\n                handleChangeWord({\n                  id: row.id,\n                  value: e.target.value,\n                  position: DictionaryWordPosition.right,\n                })\n              }\n            />\n            <Button\n              icon=\"cross\"\n              outlined\n              intent={Intent.DANGER}\n              onClick={() => handleRemoveRow(row.id)}\n            />\n          </ControlGroup>\n        </FormGroup>\n      ))}\n\n      <FormGroup>\n        <ControlGroup fill>\n          <Button\n            onClick={handleAddNewRow}\n            onKeyDown={handleKeyDown}\n            onKeyUp={handleKeyUp}\n            icon=\"plus\"\n            text=\"Add new row (cmd + a)\"\n            small\n          />\n        </ControlGroup>\n      </FormGroup>\n    </>\n  );\n};\n","import * as React from \"react\";\nimport { useGate, useStore } from \"effector-react\";\nimport clsx from \"clsx\";\nimport { Classes } from \"@blueprintjs/core\";\nimport styles from \"./App.module.css\";\n\nimport { TopMenu } from \"./TopMenu\";\nimport { Inputs } from \"./Inputs\";\nimport { $isDark } from \"../store/theme\";\nimport { AppGate } from \"../store/app\";\n\nexport const App: React.FC = () => {\n  useGate(AppGate);\n  const isDark = useStore($isDark);\n\n  return (\n    <div className={clsx(styles.root, isDark ? styles.dark : styles.light)}>\n      <div className={clsx(styles.container, isDark && Classes.DARK)}>\n        <div className={styles.menu}>\n          <TopMenu />\n        </div>\n\n        <div className={styles.inputs}>\n          <Inputs />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport \"normalize.css\";\nimport \"@blueprintjs/core/lib/css/blueprint.css\";\nimport './index.css';\n\nimport \"./store/init\";\n\nimport { App } from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__1Ylx4\",\"dark\":\"App_dark__1qI-h\",\"light\":\"App_light__3RWIn\",\"container\":\"App_container__6j1zw\",\"menu\":\"App_menu__3Q_vY\",\"inputs\":\"App_inputs__2Es-g\"};"],"sourceRoot":""}